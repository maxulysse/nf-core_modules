- name: bam_variant_calling_somatic_mutect2
  command: nextflow run ./tests/subworkflows/nf-core/bam_variant_calling_somatic_mutect2 -entry test_bam_variant_calling_somatic_mutect2 -c tests/config/nextflow.config
  tags:
    - subworkflows
    - subworkflows/bam_variant_calling_somatic_mutect2
    # Modules
    - gatk4/calculatecontamination
    - gatk4/filtermutectcalls
    - gatk4/gatherpileupsummaries
    - gatk4/getpileupsummaries
    - gatk4/learnreadorientationmodel
    - gatk4/mergemutectstats
    - gatk4/mergevcfs
    - gatk4/mutect2
  files:
    # gatk4 mutect2
    - path: ./output/gatk4/test2_vs_test1.vcf.gz
    - path: ./output/gatk4/test2_vs_test1.vcf.gz.tbi
    - path: ./output/gatk4/test2_vs_test1.vcf.gz.stats
      md5sum: 17d2091015d04cbd4a26b7a67dc659e6
      # gatk4 learnreadorientationmodel
    - path: ./output/gatk4/test2_vs_test1.artifactprior.tar.gz
      # gatk4 getpileupsummaries
    - path: ./output/gatk4/test1.normal.pileups.table
      md5sum: fe35b6bc041f2df8bd1f23420af3ddf9
    - path: ./output/gatk4/test2.tumor.pileups.table
      md5sum: 8e0ca6f66e112bd2f7ec1d31a2d62469
      # gatk4 calculatecontamination
    - path: ./output/gatk4/test2_vs_test1.contamination.table
      md5sum: 8a6c06416843cf83e9e46f8e951d7971
    - path: ./output/gatk4/test2_vs_test1.segmentation.table
      md5sum: 80c775cf64c61f0f5de69042cf9ffaad
      # gatk4 filtermutectcalls
    - path: ./output/gatk4/test2_vs_test1_filtered.vcf.gz
    - path: ./output/gatk4/test2_vs_test1_filtered.vcf.gz.tbi
    - path: ./output/gatk4/test2_vs_test1_filtered.vcf.gz.filteringStats.tsv
      md5sum: 55f228e5520c8b9fbac017d3a3a6c5fd

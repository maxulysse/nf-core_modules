
nextflow_function {

    name "Test Functions"
    script "../main.nf"
    config "subworkflows/nf-core/utils_nfcore_pipeline/tests/nextflow.config"
    tag "subworkflows"
    tag "subworkflows_nfcore"
    tag "utils_nfcore_pipeline"
    tag "subworkflows/utils_nfcore_pipeline"

    test("Function checkConfigProvided") {

        function "checkConfigProvided"

        then {
            assertAll (
                { assert function.success },
                { assert snapshot(function.result).match() }
            )
        }
    }

    test("Function workflowCitation") {

        function "workflowCitation"

        then {
            assertAll (
                { assert function.success },
                { assert snapshot(function.result).match() }
            )
        }
    }

    test("Function nfCoreLogo") {

        function "nfCoreLogo"

        when {
            function {
                """
                input[0] = false
                """
            }
        }

        then {
            assertAll (
                { assert function.success },
                { assert snapshot(function.result).match() }
            )
        }
    }

    test("Function dashedLine") {

        function "dashedLine"

        when {
            function {
                """
                input[0] = false
                """
            }
        }

        then {
            assertAll (
                { assert function.success },
                { assert snapshot(function.result).match() }
            )
        }
    }

    test("Function without logColours") {

        function "logColours"

        when {
            function {
                """
                input[0] = true
                """
            }
        }

        then {
            assertAll (
                { assert function.success },
                { assert snapshot(function.result).match() }
            )
        }
    }

    test("Function with logColours") {
        function "logColours"

        when {
            function {
                """
                input[0] = false
                """
            }
        }

        then {
            assertAll (
                { assert function.success },
                { assert snapshot(function.result).match() }
            )
        }
    }
}